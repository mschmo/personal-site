<!DOCTYPE html>
<html lang="en">
<head>
  <script src="{{ url_for('admin.static', filename='js/jquery-1.11.2.min.js') }}"></script>

  <!-- Vegas slideshow stuff -->
  <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/vegas/vegas.min.css') }}">
  <script src= "{{ url_for('admin.static', filename='js/vegas/vegas.min.js') }}"></script>

  <!-- Weather API -->
  <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/simpleweather.css') }}">
  <script src="{{ url_for('admin.static', filename='js/plugins/jquery.simpleweather.min.js') }}"></script>

  <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/screen.css') }}">

</head>
<body class="overlay">

  <div id="weather"></div>

  <script>
  $(document).ready(function() {
    $.simpleWeather({
      location: 'Philadelphia, PA',
      woeid: '',
      unit: 'f',
      success: function(weather) {
        html = '<h2><i class="icon-'+weather.code+'"></i> '+weather.temp+'&deg;'+weather.units.temp+'</h2>';
        html += '<h4>'+weather.city+', '+weather.region+'</h4>';
        $("#weather").html(html);
      },
      error: function(error) {
        $("#weather").html('<p>'+error+'</p>');
      }
    });

    $('body').vegas({
      delay: 7000,
      timer: false,
      shuffle: true,
      //transition: 'blur', TODO: too much for midori CPU right now
      transitionDuration: 2000,
      //animation: 'random', TODO: Get this to render more fluidly on rasp pi midori
      overlay: "{{ url_for('admin.static', filename='css/vegas/overlays/05.png') }}",
      slides: [
        {% for slide in slides %}
          {'src': '{{ slide }}' },
        {% endfor %}
      ]
    });
  });
  </script>

</body>